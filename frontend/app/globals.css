@tailwind base;
@tailwind components;
@tailwind utilities;

/* React-PDF styles */
@import 'react-pdf/dist/Page/AnnotationLayer.css';
@import 'react-pdf/dist/Page/TextLayer.css';

/* Google Fonts - Sovereign Typography Stack */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Merriweather:wght@400;700;900&display=swap');

/* ============================================
   SOVEREIGN DESIGN SYSTEM
   "Density is Reliability" - Neo-Enterprise
   ============================================ */

:root {
  /* Paper & Steel Palette */
  --canvas: #ECE9D8;
  --steel: #F2F2F2;
  --paper: #FFFCF9;
  --paper-white: #FFFFFF;

  /* Ink */
  --ink: #111111;
  --ink-secondary: #555555;
  --ink-muted: #888888;

  /* Accents */
  --navy: #0A2540;
  --navy-light: #1a3a5c;
  --navy-dark: #061829;
  --alert: #B91C1C;
  --amber: #D97706;
  --success: #15803D;

  /* Grid */
  --grid-line: #E5E5E5;
  --grid-header: #F5F5F5;
  --grid-zebra: #F9FAFB;

  /* Terminal */
  --terminal-bg: #1E1E1E;
  --terminal-green: #10B981;
  --terminal-amber: #F59E0B;

  /* Micro-borders for depth */
  --border-light: #D4D4D4;
  --border-dark: #888888;
}

/* ============================================
   BASE STYLES
   ============================================ */

* {
  /* SOVEREIGN LAW #1: Zero Radius */
  border-radius: 0 !important;
  /* SOVEREIGN LAW #2: No Soft Shadows */
  box-shadow: none !important;
}

html {
  overflow: hidden;
  height: 100%;
}

body {
  color: var(--ink);
  background-color: var(--canvas);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  height: 100%;
  overflow: hidden;
}

/* Authority Font - Serif for headings */
h1, h2, h3, .font-serif, .font-display {
  font-family: 'Merriweather', Georgia, serif;
  font-weight: 700;
  color: var(--ink);
}

/* Data Font - Monospace for numbers, dates, codes */
.font-mono, code, .data-value, .case-number, .date-display {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-feature-settings: 'tnum' 1; /* Tabular numbers */
}

/* ============================================
   COMPONENT LAYER
   ============================================ */

@layer components {

  /* ==========================================
     BUTTONS - Sovereign Style
     ========================================== */

  .btn {
    @apply inline-flex items-center justify-center px-4 py-2;
    @apply text-sm font-medium;
    @apply transition-none; /* No smooth transitions - instant feedback */
    border: 1px solid var(--border-dark);
    cursor: pointer;
  }

  .btn-primary {
    @apply btn;
    background-color: var(--navy);
    color: white;
    border-color: var(--navy-dark);
  }

  .btn-primary:hover {
    background-color: var(--navy-light);
  }

  .btn-primary:active {
    background-color: var(--navy-dark);
  }

  .btn-secondary {
    @apply btn;
    background-color: var(--steel);
    color: var(--ink);
  }

  .btn-secondary:hover {
    background-color: var(--grid-header);
  }

  .btn-danger {
    @apply btn;
    background-color: var(--alert);
    color: white;
    border-color: #991B1B;
  }

  /* Micro-border depth effect */
  .btn-raised {
    border-top: 1px solid var(--border-light);
    border-left: 1px solid var(--border-light);
    border-bottom: 1px solid var(--border-dark);
    border-right: 1px solid var(--border-dark);
  }

  .btn-raised:active {
    border-top: 1px solid var(--border-dark);
    border-left: 1px solid var(--border-dark);
    border-bottom: 1px solid var(--border-light);
    border-right: 1px solid var(--border-light);
  }

  /* ==========================================
     INPUTS - Inset depth
     ========================================== */

  .input {
    @apply w-full px-3 py-2 text-sm;
    background-color: var(--paper-white);
    color: var(--ink);
    border-top: 1px solid var(--border-dark);
    border-left: 1px solid var(--border-dark);
    border-bottom: 1px solid var(--border-light);
    border-right: 1px solid var(--border-light);
  }

  .input:focus {
    outline: 2px solid var(--navy);
    outline-offset: -2px;
  }

  .input::placeholder {
    color: var(--ink-muted);
  }

  /* ==========================================
     PANELS & CARDS
     ========================================== */

  .panel {
    background-color: var(--paper-white);
    border: 1px solid var(--grid-line);
  }

  .panel-header {
    @apply px-4 py-3;
    @apply font-serif font-bold;
    background-color: var(--grid-header);
    border-bottom: 1px solid var(--grid-line);
    color: var(--ink);
  }

  .panel-body {
    @apply p-4;
  }

  /* Raised panel with depth */
  .panel-raised {
    @apply panel;
    border-top: 1px solid var(--border-light);
    border-left: 1px solid var(--border-light);
    border-bottom: 1px solid var(--border-dark);
    border-right: 1px solid var(--border-dark);
  }

  /* ==========================================
     DATA TABLES - The Data Grid
     ========================================== */

  .data-table {
    @apply w-full text-sm;
    border-collapse: collapse;
    background-color: var(--paper-white);
  }

  .data-table th {
    @apply text-left font-semibold text-xs uppercase tracking-wider;
    @apply px-3 py-2;
    @apply sticky top-0;
    color: var(--ink-secondary);
    background-color: var(--grid-header);
    border-bottom: 2px solid var(--grid-line);
    border-right: 1px solid var(--grid-line);
  }

  .data-table th:last-child {
    border-right: none;
  }

  .data-table td {
    @apply px-3 py-1;
    color: var(--ink);
    border-bottom: 1px solid var(--grid-line);
    border-right: 1px solid var(--grid-line);
  }

  .data-table td:last-child {
    border-right: none;
  }

  /* Zebra striping */
  .data-table tr:nth-child(even) td {
    background-color: var(--grid-zebra);
  }

  .data-table tr:hover td {
    background-color: #EEF2FF;
  }

  /* Status flag - 4px left border */
  .data-table tr.status-critical td:first-child {
    border-left: 4px solid var(--alert);
  }

  .data-table tr.status-warning td:first-child {
    border-left: 4px solid var(--amber);
  }

  .data-table tr.status-success td:first-child {
    border-left: 4px solid var(--success);
  }

  /* ==========================================
     SIDEBAR NAVIGATION - File Explorer Style
     ========================================== */

  .sidebar {
    background-color: var(--steel);
    border-right: 1px solid var(--grid-line);
  }

  .sidebar-item {
    @apply flex items-center gap-2 px-3 py-2;
    @apply text-sm;
    color: var(--ink);
    cursor: pointer;
    border-left: 3px solid transparent;
  }

  .sidebar-item:hover {
    background-color: var(--canvas);
  }

  /* INVERTED SELECTION - Classic file explorer */
  .sidebar-item.active {
    background-color: var(--navy);
    color: white;
    border-left-color: var(--navy);
  }

  .sidebar-item.active:hover {
    background-color: var(--navy-light);
  }

  /* Tree guide lines */
  .sidebar-tree-line {
    border-left: 1px dotted var(--ink-muted);
    margin-left: 10px;
    padding-left: 12px;
  }

  /* ==========================================
     STATUS BADGES - Flat, no pills
     ========================================== */

  .badge {
    @apply inline-flex items-center px-2 py-0.5;
    @apply text-xs font-medium uppercase tracking-wide;
    border: 1px solid;
  }

  .badge-critical {
    @apply badge;
    background-color: #FEE2E2;
    color: var(--alert);
    border-color: var(--alert);
  }

  .badge-warning {
    @apply badge;
    background-color: #FEF3C7;
    color: var(--amber);
    border-color: var(--amber);
  }

  .badge-success {
    @apply badge;
    background-color: #D1FAE5;
    color: var(--success);
    border-color: var(--success);
  }

  .badge-info {
    @apply badge;
    background-color: #E0E7FF;
    color: var(--navy);
    border-color: var(--navy);
  }

  .badge-neutral {
    @apply badge;
    background-color: var(--steel);
    color: var(--ink-secondary);
    border-color: var(--border-dark);
  }

  /* ==========================================
     AI TERMINAL - System Console
     ========================================== */

  .terminal {
    background-color: var(--terminal-bg);
    font-family: 'JetBrains Mono', monospace;
    color: var(--terminal-green);
  }

  .terminal-collapsed {
    @apply flex items-center justify-between px-4 py-2;
    background-color: var(--terminal-bg);
    border-top: 1px solid #333;
    cursor: pointer;
  }

  .terminal-collapsed:hover {
    background-color: #2a2a2a;
  }

  .terminal-expanded {
    @apply p-4;
    background-color: var(--terminal-bg);
    border-top: 1px solid #333;
    height: 200px;
    overflow-y: auto;
  }

  .terminal-prompt {
    color: var(--terminal-green);
  }

  .terminal-prompt::before {
    content: '> ';
    color: var(--terminal-amber);
  }

  .terminal-input {
    @apply w-full px-0 py-1;
    background: transparent;
    border: none;
    color: var(--terminal-green);
    font-family: inherit;
    font-size: 13px;
    outline: none;
    caret-color: var(--terminal-green);
  }

  /* Blinking cursor */
  .terminal-cursor {
    display: inline-block;
    width: 8px;
    height: 16px;
    background-color: var(--terminal-green);
    animation: blink 1s step-end infinite;
  }

  @keyframes blink {
    50% { opacity: 0; }
  }

  /* ==========================================
     COCKPIT LAYOUT - Fixed Viewport
     ========================================== */

  .cockpit {
    @apply h-screen w-screen overflow-hidden;
    @apply flex flex-col;
    background-color: var(--canvas);
  }

  .cockpit-header {
    @apply flex items-center justify-between px-4;
    height: 48px;
    background-color: var(--navy);
    color: white;
    flex-shrink: 0;
  }

  .cockpit-body {
    @apply flex flex-1 overflow-hidden;
  }

  .cockpit-sidebar {
    @apply flex-shrink-0 overflow-y-auto;
    width: 240px;
  }

  .cockpit-main {
    @apply flex-1 overflow-hidden flex flex-col;
  }

  .cockpit-content {
    @apply flex-1 overflow-auto p-4;
    background-color: var(--canvas);
  }

  .cockpit-terminal {
    @apply flex-shrink-0;
  }

  /* ==========================================
     SCROLLBARS - Thin, Professional
     ========================================== */

  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: var(--steel);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--border-dark);
    border: 1px solid var(--steel);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--ink-muted);
  }

  /* ==========================================
     PRIORITY INDICATORS - Left border
     ========================================== */

  .priority-fatal {
    border-left: 4px solid var(--alert) !important;
  }

  .priority-critical {
    border-left: 4px solid #DC2626 !important;
  }

  .priority-important {
    border-left: 4px solid var(--amber) !important;
  }

  .priority-standard {
    border-left: 4px solid var(--border-dark) !important;
  }

  .priority-informational {
    border-left: 4px solid var(--border-light) !important;
  }

  /* ==========================================
     MODAL / DIALOG
     ========================================== */

  .modal-overlay {
    @apply fixed inset-0 z-50;
    background-color: rgba(0, 0, 0, 0.5);
  }

  .modal {
    @apply fixed z-50;
    @apply bg-white;
    border: 1px solid var(--border-dark);
    box-shadow: 8px 8px 0px 0px rgba(0, 0, 0, 0.2);
    max-width: 90vw;
    max-height: 90vh;
  }

  .modal-header {
    @apply flex items-center justify-between px-4 py-3;
    @apply font-serif font-bold;
    background-color: var(--navy);
    color: white;
  }

  .modal-body {
    @apply p-4 overflow-auto;
    max-height: calc(90vh - 120px);
  }

  .modal-footer {
    @apply flex items-center justify-end gap-2 px-4 py-3;
    background-color: var(--grid-header);
    border-top: 1px solid var(--grid-line);
  }
}

/* ============================================
   UTILITY LAYER
   ============================================ */

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Quick background utilities */
  .bg-canvas { background-color: var(--canvas); }
  .bg-steel { background-color: var(--steel); }
  .bg-paper { background-color: var(--paper); }
  .bg-paper-white { background-color: var(--paper-white); }

  /* Text utilities */
  .text-ink { color: var(--ink); }
  .text-ink-secondary { color: var(--ink-secondary); }
  .text-ink-muted { color: var(--ink-muted); }
  .text-navy { color: var(--navy); }
  .text-alert { color: var(--alert); }
  .text-amber { color: var(--amber); }

  /* Border utilities */
  .border-grid { border-color: var(--grid-line); }

  /* HARD BEVEL - Depth without shadows */
  .bevel {
    border-bottom: 2px solid var(--border-dark);
    border-right: 2px solid var(--border-dark);
  }

  .bevel-sm {
    border-bottom: 1px solid var(--border-dark);
    border-right: 1px solid var(--border-dark);
  }

  .bevel-inset {
    border-top: 2px solid var(--border-dark);
    border-left: 2px solid var(--border-dark);
    border-bottom: 2px solid var(--border-light);
    border-right: 2px solid var(--border-light);
  }

  .bevel-raised {
    border-top: 2px solid var(--border-light);
    border-left: 2px solid var(--border-light);
    border-bottom: 2px solid var(--border-dark);
    border-right: 2px solid var(--border-dark);
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  body {
    font-family: 'Times New Roman', serif;
    font-size: 12pt;
    background: white;
    color: black;
  }

  .no-print {
    display: none !important;
  }

  .cockpit-sidebar,
  .cockpit-terminal,
  .cockpit-header {
    display: none !important;
  }

  .cockpit-content {
    overflow: visible;
    height: auto;
  }
}
